{"openapi":"3.0.1","info":{"title":"OpenApi specification - Emil","description":"OpenApi documentation for Spring Security","termsOfService":"Terms of service","contact":{"name":"Emil","email":"beyerovemil@gmail.com"},"license":{"name":"Licence name","url":"https://some-url.com"},"version":"1.0"},"servers":[{"url":"http://localhost:8088/api/v1","description":"Local ENV"},{"url":"http://localhost:8088/api/v1","description":"PROD ENV"}],"security":[{"bearerAuth":[]}],"paths":{"/car/update/{car-id}":{"put":{"tags":["Car"],"operationId":"updateCar","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/waiting/addToWaitingList/{carId}":{"post":{"tags":["Waiting Car"],"operationId":"addToWaitingList","parameters":[{"name":"carId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/feedback":{"post":{"tags":["Feedback"],"operationId":"saveFeedback","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/car":{"post":{"tags":["Car"],"operationId":"saveCar","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/car/rent/return/{car-id}":{"post":{"tags":["Car"],"operationId":"returnRentedCar","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/car/cover/{car-id}":{"post":{"tags":["Car"],"operationId":"uploadCarCoverPicture","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/auth/register":{"post":{"tags":["Authentication"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationRequest"}}},"required":true},"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/auth/authenticate":{"post":{"tags":["Authentication"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/car/available/{car-id}":{"patch":{"tags":["Car"],"operationId":"updateAvailableStatus","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/waiting/findCarId/{id}":{"get":{"tags":["Waiting Car"],"operationId":"findCarId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/waiting/findAllWaitingCars":{"get":{"tags":["Waiting Car"],"operationId":"findAllWaitingCars","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseCarResponse"}}}}}}},"/feedback/feedback/{car-id}":{"get":{"tags":["Feedback"],"operationId":"findAllFeedbacks","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseFeedbackResponse"}}}}}}},"/car/{car_id}":{"get":{"tags":["Car"],"operationId":"findById","parameters":[{"name":"car_id","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarResponse"}}}}}}},"/car/returned":{"get":{"tags":["Car"],"operationId":"findAllReturnedCars","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseRentedCarResponse"}}}}}}},"/car/rented":{"get":{"tags":["Car"],"operationId":"findAllRentedCars","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseRentedCarResponse"}}}}}}},"/car/rent/{car-id}":{"get":{"tags":["Car"],"operationId":"rentCar","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/car/rent/return/approve/{car-id}":{"get":{"tags":["Car"],"operationId":"approveReturnRentedCar","parameters":[{"name":"car-id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/car/owner":{"get":{"tags":["Car"],"operationId":"findAllByOwner","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseCarResponse"}}}}}}},"/car/findByCarName/{car-name}":{"get":{"tags":["Car"],"operationId":"findByCarName","parameters":[{"name":"car-name","in":"query","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseCarResponse"}}}}}}},"/car/findAll":{"get":{"tags":["Car"],"operationId":"findAllCars","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseCarResponse"}}}}}}},"/car/findAllMyReturnedCars":{"get":{"tags":["Car"],"operationId":"findAllMyReturnedCars","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseRentedCarResponse"}}}}}}},"/car/findAllCars":{"get":{"tags":["Car"],"operationId":"findAll","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageResponseCarResponse"}}}}}}},"/auth/activateAccount":{"get":{"tags":["Authentication"],"operationId":"confirm","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/waiting/removeFromWaitingList/{waitingId}":{"delete":{"tags":["Waiting Car"],"operationId":"removeFromWaitingList","parameters":[{"name":"waitingId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}}},"components":{"schemas":{"CarRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"brand":{"type":"string"},"model":{"type":"string"},"manufacturingYear":{"type":"integer","format":"int32"},"fuelType":{"type":"string"},"dailyRentalRate":{"type":"number","format":"double"},"capacity":{"type":"integer","format":"int32"},"owner":{"type":"string"},"available":{"type":"boolean"}}},"FeedbackRequest":{"required":["carId","comment"],"type":"object","properties":{"note":{"maximum":5,"minimum":0,"type":"number","format":"double"},"comment":{"type":"string"},"carId":{"type":"integer","format":"int32"}}},"RegistrationRequest":{"required":["email","firstname","lastname","password"],"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":4,"type":"string"}}},"AuthenticationRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":4,"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"CarResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"brand":{"type":"string"},"model":{"type":"string"},"manufacturingYear":{"type":"integer","format":"int32"},"fuelType":{"type":"string"},"dailyRentalRate":{"type":"number","format":"double"},"capacity":{"type":"integer","format":"int32"},"cover":{"type":"array","items":{"type":"string","format":"byte"}},"available":{"type":"boolean"},"owner":{"type":"string"},"rate":{"type":"number","format":"double"}}},"PageResponseCarResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/CarResponse"}},"number":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"}}},"FeedbackResponse":{"type":"object","properties":{"note":{"type":"number","format":"double"},"comment":{"type":"string"},"ownFeedback":{"type":"boolean"},"owner":{"type":"string"}}},"PageResponseFeedbackResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/FeedbackResponse"}},"number":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"}}},"PageResponseRentedCarResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/RentedCarResponse"}},"number":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"}}},"RentedCarResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"brand":{"type":"string"},"model":{"type":"string"},"manufacturingYear":{"type":"integer","format":"int32"},"fuelType":{"type":"string"},"dailyRentalRate":{"type":"number","format":"double"},"rate":{"type":"number","format":"double"},"returned":{"type":"boolean"},"returnApproved":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","description":"JWT auth description","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}
